<html>
<head>
<title>Synapse File Proxy</title>
</head>

<script>
	// get a a cookie by name
	function getCookie(c_name) {
		var i, x, y, ARRcookies = document.cookie.split(";");
		for (i = 0; i < ARRcookies.length; i++) {
			x = ARRcookies[i].substr(0, ARRcookies[i].indexOf("="));
			y = ARRcookies[i].substr(ARRcookies[i].indexOf("=") + 1);
			x = x.replace(/^\s+|\s+$/g, "");
			if (x == c_name) {
				return unescape(y);
			}
		}
	}

	function myFunction() {
		x = document.getElementById("tokenShow"); // Find the element
		x.innerHTML = "org.sagbionetworks.security.user.login.token="+getCookie("org.sagbionetworks.security.user.login.token");
	}
</script>

<body>
	<h1>Upload a file</h1>
	<ol>
		<li><a href="/services-file/login.html">login</a></li>
		<li>
			<!-- The session token must be added as cookie in order for this form submit to work. Expected cookie:
				name=sessionToken
				value=<your_session_token>
				path=/
			  -->
			<form name="form" method="post" id="upload"
				action="/services-file/file/v1/fileHandle"
				enctype="multipart/form-data">
				<label for="fileField">Select multiple files to upload. A
					FileHandle will be created for each file.</label> <input type="file"
					name="fileField" required="required" multiple> <br /> <br />
				<input type="submit" name="submit" value="Submit">
			</form>
		</li>
	</ol>

	<button type="button" onclick="myFunction()">View Token</button>
	<p id="tokenShow"></p>

</body>
</html>
